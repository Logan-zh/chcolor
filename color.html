<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>

    <div id="demo" style='width:200px;height:200px;display:flex;justify-content: center;align-items: center;color:#fff;'></div>
    <div style='display:flex;flex-wrap:wrap;'>
    <div style='flex:0 0 100%;'><input type="button" value="R" onclick='change("r")'>
    <input type="range" name='r' onchange="changeByRange(this)" value='0' max="255" min="0"></div>
    <div style='flex:0 0 100%;'><input type="button" value="G" onclick='change("g")'>
    <input type="range" name='g' onchange="changeByRange(this)" value='0' max="255" min="0"></div>
    <div style='flex:0 0 100%;'><input type="button" value="B" onclick='change("b")'>
    <input type="range" name='b' onchange="changeByRange(this)" value='0' max="255" min="0"></div>
    </div>
    <input type="button" value="←" onclick="CK('minus')" onmousedown="run('minus')" onmouseup="stop()">
    <input type="button" value="→" onclick="CK('add')" onmousedown="run('add')" onmouseup="stop()">
    <input type="button" value="rand" onclick="rand()">

    <script>
        let demo = document.getElementById('demo');
        let r=0;
        let g=0;
        let b=0;
        let range = document.querySelectorAll("input[type='range']");
        function change(color){
            let tmp = prompt('輸入0~255');
            switch(color){
                case 'r':
                    r = tmp;
                break;
                case 'g':
                    g = tmp;
                break;
                case 'b':
                    b = tmp;
                break;
            }
            demo.style.backgroundColor=`RGB(${r},${g},${b})`;
            range[0].value=r;
            range[1].value=g;
            range[2].value=b;
            showNumber();
        }
        function changeByRange($this){
            switch($this.name){
                case 'r':
                    r = $this.value;
                break;
                case 'g':
                    g = $this.value;
                break;
                case 'b':
                    b = $this.value;
                break;
            }
            demo.style.backgroundColor=`RGB(${r},${g},${b})`;
            showNumber();
        }
        function CK($select){
            switch($select){
                case 'add':
                    r++;
                    g++;
                    b++;
                break;
                case 'minus':
                    r-=1;
                    g-=1;
                    b-=1;
                break;
            }
            demo.style.backgroundColor=`RGB(${r},${g},${b})`;
            range[0].value=r;
            range[1].value=g;
            range[2].value=b;
            showNumber();
        }
        function showNumber(){
            let num = `#${Math.abs(r).toString(16)}${Math.abs(g).toString(16)}${Math.abs(b).toString(16)}`;
            demo.textContent=num;
        }

        function run($select){
            c = setInterval(()=>{CK($select)},50);
        }
        function stop(){
            clearInterval(c);
        }
        function rand(){
            r=Math.round(Math.random()*255);
            g=Math.round(Math.random()*255);
            b=Math.round(Math.random()*255);
            demo.style.backgroundColor=`RGB(${r},${g},${b})`;
            range[0].value=r;
            range[1].value=g;
            range[2].value=b;
            showNumber();
        }
    </script>
</body>
</html>